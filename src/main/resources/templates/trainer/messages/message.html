<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tin nhắn - GymFitness">
    <title>Tin nhắn - GymFitness</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="../../shared/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="../../shared/assets/css/style.css">
    <link rel="stylesheet" href="../css/trainer-style.css">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar Begin -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3>Gym<span>Fitness</span></h3>
                <div class="trainer-profile">
                    <img src="../../shared/assets/img/avatar-default.jpg" class="rounded-circle" width="60" height="60"
                        alt="HLV">
                    <h5>Nguyễn Văn A</h5>
                    <span class="badge badge-success">HLV Chính</span>
                </div>
            </div>
            <ul class="list-unstyled components">
                <li>
                    <a href="../index.html"><i class="fas fa-tachometer-alt"></i> Bảng điều khiển</a>
                </li>
                <li>
                    <a href="#scheduleSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-calendar-alt"></i> Lịch làm việc
                    </a>
                    <ul class="collapse list-unstyled" id="scheduleSubmenu">
                        <li>
                            <a href="../schedule/view.html">Xem lịch</a>
                        </li>
                        <li>
                            <a href="../schedule/manage.html">Quản lý lịch</a>
                        </li>
                        <li>
                            <a href="../schedule/add.html">Thêm lịch mới</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#membersSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-users"></i> Quản lý thành viên
                    </a>
                    <ul class="collapse list-unstyled" id="membersSubmenu">
                        <li>
                            <a href="../members/list.html">Danh sách thành viên</a>
                        </li>
                        <li>
                            <a href="../members/progress.html">Theo dõi tiến độ</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#classesSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-dumbbell"></i> Quản lý lớp học
                    </a>
                    <ul class="collapse list-unstyled" id="classesSubmenu">
                        <li>
                            <a href="../classes/list.html">Lớp học của tôi</a>
                        </li>
                        <li>
                            <a href="../classes/attendance.html">Điểm danh</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="../nutrition/nutrition.html"><i class="fas fa-apple-alt"></i> Chế độ dinh dưỡng</a>
                </li>
                <li>
                    <a href="../assessments/assessment.html"><i class="fas fa-clipboard-list"></i> Đánh giá thể chất</a>
                </li>
                <li class="active">
                    <a href="message.html"><i class="fas fa-comments"></i> Tin nhắn</a>
                </li>
                <li>
                    <a href="../profile/view.html"><i class="fas fa-user"></i> Thông tin cá nhân</a>
                </li>
            </ul>
        </nav>
        <!-- Sidebar End -->

        <!-- Content Begin -->
        <div id="content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebar-collapse" class="btn btn-info">
                        <i class="fas fa-align-left"></i>
                        <span>Thu gọn</span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fas fa-bell"></i>
                                    <span class="badge badge-danger">3</span>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="#">Lớp học mới được giao</a>
                                    <a class="dropdown-item" href="#">Thành viên đăng ký</a>
                                    <a class="dropdown-item" href="#">Lịch hẹn mới từ Trần Thị B</a>
                                    <a class="dropdown-item" href="#">Tin nhắn mới từ Nguyễn Văn C</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="#">Xem tất cả thông báo</a>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img src="../../shared/assets/img/avatar-default.jpg" class="rounded-circle" width="30"
                                        height="30">
                                    <span>Nguyễn Văn A</span>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                                    <a class="dropdown-item" href="../profile/view.html">Thông tin cá nhân</a>
                                    <a class="dropdown-item" href="../settings/general.html">Cài đặt</a>
                                    <a class="dropdown-item" href="index.html">Tin nhắn</a>
                                    <a class="dropdown-item" href="../reports.html">Báo cáo</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="../../shared/assets/login.html">Đăng xuất</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Tin nhắn</h2>
                            <div>
                                <a href="compose.html" class="btn btn-primary">
                                    <i class="fas fa-plus"></i> Tin nhắn mới
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="row mb-4">
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-primary shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                            Tổng tin nhắn</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">156</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-comments fa-2x text-gray-300"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-success shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                            Tin nhắn mới</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">8</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-envelope fa-2x text-gray-300"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-info shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                            Đã đọc</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">148</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-check fa-2x text-gray-300"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-warning shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                            Cần trả lời</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">3</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-clock fa-2x text-gray-300"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Messages -->
                <div class="row">
                    <div class="col-lg-4">
                        <div class="card shadow">
                            <div class="card-header">
                                <h6 class="m-0 font-weight-bold text-primary">Danh sách tin nhắn</h6>
                            </div>
                            <div class="card-body p-0">
                                <div class="list-group list-group-flush" id="messageList">
                                    <div class="list-group-item message-item active" data-message="1">
                                        <div class="d-flex align-items-center">
                                            <img src="https://via.placeholder.com/40" class="rounded-circle me-2">
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1">Nguyễn Văn X <span
                                                        class="badge badge-danger">Mới</span></h6>
                                                <p class="mb-1 text-truncate">Tôi muốn thay đổi lịch tập vào thứ Tư...
                                                </p>
                                                <small class="text-muted">10 phút trước</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item message-item" data-message="2">
                                        <div class="d-flex align-items-center">
                                            <img src="https://via.placeholder.com/40" class="rounded-circle me-2">
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1">Trần Thị Y <span class="badge badge-danger">Mới</span>
                                                </h6>
                                                <p class="mb-1 text-truncate">Anh có thể tư vấn về chế độ dinh dưỡng...
                                                </p>
                                                <small class="text-muted">25 phút trước</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item message-item" data-message="3">
                                        <div class="d-flex align-items-center">
                                            <img src="https://via.placeholder.com/40" class="rounded-circle me-2">
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1">Lê Văn Z</h6>
                                                <p class="mb-1 text-truncate">Cảm ơn về buổi tập hôm qua, rất hiệu
                                                    quả...</p>
                                                <small class="text-muted">2 giờ trước</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item message-item" data-message="4">
                                        <div class="d-flex align-items-center">
                                            <img src="https://via.placeholder.com/40" class="rounded-circle me-2">
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1">Quản lý</h6>
                                                <p class="mb-1 text-truncate">Họp đội ngũ HLV vào thứ Sáu tuần này...
                                                </p>
                                                <small class="text-muted">1 ngày trước</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-8">
                        <div class="card shadow">
                            <div class="card-header">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h6 class="m-0 font-weight-bold text-primary">Chi tiết tin nhắn</h6>
                                    <div>
                                        <button class="btn btn-sm btn-outline-primary" id="replyBtn">
                                            <i class="fas fa-reply"></i> Trả lời
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" id="deleteBtn">
                                            <i class="fas fa-trash"></i> Xóa
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="messageContent">
                                    <!-- Message 1 -->
                                    <div class="message-detail" id="message1">
                                        <div class="message-header mb-3">
                                            <div class="d-flex align-items-center">
                                                <img src="https://via.placeholder.com/50" class="rounded-circle me-3">
                                                <div>
                                                    <h5 class="mb-1">Nguyễn Văn X</h5>
                                                    <small class="text-muted">10 phút trước</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="message-body">
                                            <p>Chào anh, tôi muốn thay đổi lịch tập vào thứ Tư tuần này vì có việc đột
                                                xuất.
                                                Anh có thể sắp xếp cho tôi vào thứ Năm hoặc thứ Sáu được không?</p>
                                            <p>Cảm ơn anh!</p>
                                        </div>
                                    </div>

                                    <!-- Message 2 -->
                                    <div class="message-detail" id="message2" style="display: none;">
                                        <div class="message-header mb-3">
                                            <div class="d-flex align-items-center">
                                                <img src="https://via.placeholder.com/50" class="rounded-circle me-3">
                                                <div>
                                                    <h5 class="mb-1">Trần Thị Y</h5>
                                                    <small class="text-muted">25 phút trước</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="message-body">
                                            <p>Anh có thể tư vấn cho em về chế độ dinh dưỡng để giảm cân hiệu quả không?
                                                Em đang tập cardio nhưng không thấy kết quả rõ rệt.</p>
                                        </div>
                                    </div>

                                    <!-- Message 3 -->
                                    <div class="message-detail" id="message3" style="display: none;">
                                        <div class="message-header mb-3">
                                            <div class="d-flex align-items-center">
                                                <img src="https://via.placeholder.com/50" class="rounded-circle me-3">
                                                <div>
                                                    <h5 class="mb-1">Lê Văn Z</h5>
                                                    <small class="text-muted">2 giờ trước</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="message-body">
                                            <p>Cảm ơn anh về buổi tập hôm qua, rất hiệu quả! Em cảm thấy cơ bắp đang
                                                phát triển tốt.</p>
                                        </div>
                                    </div>

                                    <!-- Message 4 -->
                                    <div class="message-detail" id="message4" style="display: none;">
                                        <div class="message-header mb-3">
                                            <div class="d-flex align-items-center">
                                                <img src="https://via.placeholder.com/50" class="rounded-circle me-3">
                                                <div>
                                                    <h5 class="mb-1">Quản lý</h5>
                                                    <small class="text-muted">1 ngày trước</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="message-body">
                                            <p>Họp đội ngũ HLV vào thứ Sáu tuần này lúc 14:00. Vui lòng có mặt đầy đủ để
                                                bàn về kế hoạch tháng tới.</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Reply Form -->
                                <div class="reply-form mt-4" style="display: none;">
                                    <hr>
                                    <h6>Trả lời tin nhắn</h6>
                                    <form id="replyForm">
                                        <div class="form-group">
                                            <textarea class="form-control" rows="4"
                                                placeholder="Nhập nội dung trả lời..."></textarea>
                                        </div>
                                        <div class="d-flex justify-content-end">
                                            <button type="button" class="btn btn-secondary me-2"
                                                id="cancelReply">Hủy</button>
                                            <button type="submit" class="btn btn-primary">Gửi trả lời</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Content End -->
    </div>

    <!-- JavaScript Files -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../shared/assets/js/main.js"></script>
    <script src="../js/trainer.js"></script>
    <script>
        $(document).ready(function () {
            // Sidebar toggle
            $('#sidebar-collapse').on('click', function () {
                $('#sidebar').toggleClass('sidebar-collapsed');
                $('#content').toggleClass('content-collapsed');
                // Update button text
                var span = $(this).find("span");
                if ($('#sidebar').hasClass('sidebar-collapsed')) {
                    span.text("Mở rộng");
                } else {
                    span.text("Thu gọn");
                }
            });

            // Message selection
            $('.message-item').on('click', function () {
                $('.message-item').removeClass('active');
                $(this).addClass('active');

                var messageId = $(this).data('message');
                $('.message-detail').hide();
                $('#message' + messageId).show();

                $('.reply-form').hide();
            });

            // Reply button
            $('#replyBtn').on('click', function () {
                $('.reply-form').show();
            });

            // Cancel reply
            $('#cancelReply').on('click', function () {
                $('.reply-form').hide();
            });

            // Reply form submission
            $('#replyForm').on('submit', function (e) {
                e.preventDefault();
                alert('Trả lời đã được gửi thành công!');
                $('.reply-form').hide();
                $('#replyForm')[0].reset();
            });

            // Delete message
            $('#deleteBtn').on('click', function () {
                if (confirm('Bạn có chắc muốn xóa tin nhắn này?')) {
                    alert('Tin nhắn đã được xóa!');
                }
            });
        });
    </script>
</body>

</html>